"use strict";(self.webpackChunkreact_native_screenguard_docs=self.webpackChunkreact_native_screenguard_docs||[]).push([[845],{3412:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var t=r(4848),i=r(8453);const s={sidebar_position:3},d="registerWithImage",c={id:"usages-and-apis/register-with-image",title:"registerWithImage",description:"Activate screenguard with a custom image view and background color.",source:"@site/docs/usages-and-apis/register-with-image.md",sourceDirName:"usages-and-apis",slug:"/usages-and-apis/register-with-image",permalink:"/react-native-screenguard/docs/usages-and-apis/register-with-image",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"registerWithBlurView",permalink:"/react-native-screenguard/docs/usages-and-apis/register-with-blurview"},next:{title:"registerWithoutEffect",permalink:"/react-native-screenguard/docs/usages-and-apis/register-without-effect-android"}},o={},a=[{value:"Parameters",id:"parameters",level:3},{value:"<code>alignment</code>",id:"alignment",level:3},{value:"Example code",id:"example-code",level:3},{value:"New architecture (v1.0.8+)",id:"new-architecture-v108",level:4},{value:"Demo",id:"demo",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"registerwithimage",children:(0,t.jsx)(n.code,{children:"registerWithImage"})}),"\n",(0,t.jsx)(n.p,{children:"Activate screenguard with a custom image view and background color."}),"\n",(0,t.jsxs)(n.p,{children:["ImageView using ",(0,t.jsx)(n.a,{href:"https://github.com/SDWebImage/SDWebImage",children:"SDWebImage"})," on ",(0,t.jsx)(n.strong,{children:"iOS"})," and ",(0,t.jsx)(n.a,{href:"https://github.com/bumptech/glide",children:"Glide"})," on ",(0,t.jsx)(n.strong,{children:"Android"})," for faster loading and caching."]}),"\n",(0,t.jsxs)(n.p,{children:["Updated on ",(0,t.jsx)(n.code,{children:"v1.0.8"}),": throw Exception on Android if activity is not declared inside ",(0,t.jsx)(n.code,{children:"AndroidManifest.xml"}),". Refers ",(0,t.jsx)(n.a,{href:"../getting-started/linking#post-installation-for-android-most-important",children:"here"})," on how to resolve."]}),"\n",(0,t.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.p,{children:"Accepted a JS object with following parameters:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default value"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"width"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"YES"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"number"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Width of the image"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"height"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"YES"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"number"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Heigh of the image"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"source"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"YES"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Object"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsxs)(n.strong,{children:["Source of the image, can be a uri from network image or from your local project assets, accept (jpg,jpeg,png,gif,bmp,webp,svg), ",(0,t.jsx)(n.code,{children:"source: {uri: 'path_to_your_network_img_directory.png'}"})," or ",(0,t.jsx)(n.code,{children:"source: required(path_to_your_image.png)"})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"defaultSource"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{}),(0,t.jsxs)(n.td,{children:["default source if ",(0,t.jsx)(n.code,{children:"source"})," uri failed to load, accept (jpg,jpeg,png,gif,bmp,webp,svg), Usage: ",(0,t.jsx)(n.code,{children:"defaultSource: required(path_to_your_image.png)"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"backgroundColor"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"background color behind the image, default BLACK (#000)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"alignment"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{}),(0,t.jsxs)(n.td,{children:["Position of image predefined in library, value from 0 -> 8, default value = 4 ",(0,t.jsx)(n.a,{href:"#alignment",children:"(Explain below)"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"top"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Top position of the image"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"left"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Left position of the image"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"bottom"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Bottom of the image"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"right"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Right of the image"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"timeAfterResume"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{children:"1000 (in millis)"}),(0,t.jsx)(n.td,{children:"(Android only) A small amount of time (in milliseconds) for the view to disappear before jumping back to the main application view."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"alignment",children:(0,t.jsx)(n.code,{children:"alignment"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Definition:"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"  topLeft:      0,\n  topCenter:    1,\n  topRight:     2,\n  centerLeft:   3,\n  center:       4,\n  centerRight:  5,\n  bottomLeft:   6,\n  bottomCenter: 7,\n  bottomRight:  8,\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"throw exception when not in between 0..8 and NaN"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"defaultValue = 4 when all positions(top, left, bottom, right) is null and alignment = null,"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Cannot combine with position(top, left, bottom, right) params cause this will always be checked 1st, and all positions will be skipped if not null."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Set this param to null if you want to custom your own position with one of position param ",(0,t.jsx)(n.code,{children:"top"}),", ",(0,t.jsx)(n.code,{children:"left"}),", ",(0,t.jsx)(n.code,{children:"bottom"}),", ",(0,t.jsx)(n.code,{children:"right"})," above."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-code",children:"Example code"}),"\n",(0,t.jsx)(n.p,{children:"set image uri and default source"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import ScreenGuardModule from 'react-native-screenguard';\n\nconst data = {\n  height: 150,\n  width: 200,\n  source: {\n    uri: 'https://www.icegif.com/wp-content/uploads/2022/09/icegif-386.gif',\n  },\n  defaultSource: require('./images/test.png'),\n  backgroundColor: color,\n  alignment: 5 // Alignment.centerRight\n},\n//register with an image\nScreenGuardModule.registerWithImage(data);\n"})}),"\n",(0,t.jsx)(n.p,{children:"using image source from local"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import ScreenGuardModule from 'react-native-screenguard';\n\nconst dataRequire = {\n  height: 150,\n  width: 200,\n  source: require('./images/test.png'),\n  backgroundColor: color,\n},\nScreenGuardModule.registerWithImage(dataRequire);\n"})}),"\n",(0,t.jsx)(n.p,{children:"set image position"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import ScreenGuardModule from 'react-native-screenguard';\n\nconst dataRequire = {\n  height: 150,\n  width: 200,\n  top: 50,\n  lef: 50,\n  source: require('./images/test.png'),\n  backgroundColor: color,\n},\nScreenGuardModule.registerWithImage(dataRequire);\n"})}),"\n",(0,t.jsx)("blockquote",{class:"custom-blockquote",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Note"}),": This feature is still in experimental on Android, so please use with caution as some unexpected behaviour might occurs."]})}),"\n",(0,t.jsx)(n.h4,{id:"new-architecture-v108",children:"New architecture (v1.0.8+)"}),"\n",(0,t.jsxs)(n.p,{children:["Starting from ",(0,t.jsx)(n.code,{children:"v1.0.8+"}),", except ",(0,t.jsx)(n.code,{children:"registerScreenshotEventListener"})," and ",(0,t.jsx)(n.code,{children:"registerScreenRecordingEventListener"}),", all APIs have been upgraded to Promise. So you must use it asynchronously in your project."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"ScreenGuardModule.registerWithImage(data).then((_) => {console.log()})\n"})}),"\n",(0,t.jsx)(n.p,{children:"or"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"await ScreenGuardModule.registerWithImage(data);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"demo",children:"Demo"}),"\n",(0,t.jsx)(n.p,{children:"iOS"}),"\n",(0,t.jsx)("iframe",{width:"375",height:"667",src:"https://player.vimeo.com/video/953622185",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write",title:"264423413-087dd9d5-b64f-4daf-a804-acc9a3cb4cc2"}),"\n",(0,t.jsx)(n.p,{children:"Android"}),"\n",(0,t.jsx)("iframe",{width:"375",height:"667",src:"https://github.com/gbumps/react-native-screenguard/assets/16846439/dd2d8191-555f-4f84-abf5-6cbcf67dc84b",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var t=r(6540);const i={},s=t.createContext(i);function d(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);